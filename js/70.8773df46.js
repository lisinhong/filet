"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[70],{6070:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-register"},[a("div",{staticClass:"account-container"},[a("div",{staticClass:"account-header"},[a("div",{staticClass:"company"},[a("i",[a("icon-polygon")],1),a("span",[e._v("Filet")])]),a("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),1===e.step?a("div",{staticClass:"account-card step-1"},[a("div",{staticClass:"account-greeting"},[e._v("Create Account")]),a("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[a("b-form-input",{attrs:{id:"email",type:"email",state:e.emailState,placeholder:"example@example.com"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-form-checkbox",{attrs:{name:"checkbox-1",value:!0,"unchecked-value":!1},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[e._v(" I agree to the "),a("a",{attrs:{href:"#"}},[e._v("Terms of Services.")])]),a("button",{attrs:{type:"button",disabled:e.isVerifyEmailDisabled},on:{click:e.handleVerifyEmail}},[e._v(" Verify your email ")]),a("div",{staticClass:"note"},[a("span",[e._v("Already have an account?")]),a("router-link",{attrs:{to:"login"}},[e._v("Login")])],1)],1):e._e(),2===e.step?a("div",{staticClass:"account-card step-2"},[a("div",{staticClass:"account-greeting"},[e._v("Enter the code we sent to your email")]),a("label",[e._v("Enter the 4-digit code to verify your email")]),a("b-input-group",e._l(4,(function(t,s){return a("b-form-input",{key:s,ref:"otp",refInFor:!0,attrs:{state:e.otpState},on:{input:function(t){return e.handleOtpInput(s)}},model:{value:e.otp[s],callback:function(t){e.$set(e.otp,s,t)},expression:"otp[index]"}})})),1),a("button",{attrs:{type:"button",disabled:e.isVerifyOtpDisabled},on:{click:e.handleVerifyOtp}},[e._v(" Continue ")])],1):e._e(),3===e.step?a("div",{staticClass:"account-card step-3"},[a("div",{staticClass:"account-greeting"},[e._v("Fill out login information")]),a("b-form-group",{attrs:{"label-for":"firstName",label:"First Name"}},[a("b-form-input",{attrs:{id:"firstName",type:"text",state:e.registerState,placeholder:"Type your first name"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("b-form-group",{attrs:{"label-for":"lastName",label:"Last Name"}},[a("b-form-input",{attrs:{id:"lastName",type:"text",state:e.registerState,placeholder:"Type your last name"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("div",{staticClass:"password-container"},[a("b-form-group",{staticClass:"half",attrs:{"label-for":"password",label:"Password"}},[a("b-form-input",{attrs:{id:"password",type:"password",state:e.registerState,placeholder:"Type your password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("b-form-group",{staticClass:"half",attrs:{"label-for":"confirmPassword",label:"Confirm Password"}},[a("b-form-input",{attrs:{id:"confirmPassword",type:"password",state:e.registerState,placeholder:"Confirm Password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),a("div",{staticClass:"note"},[e._v(" * At least 8 characters with 1 upper case, 1 lower case, and 1 number. ")]),a("b-form-group",{attrs:{"label-for":"referrer",label:"Referrer"}},[a("b-form-input",{attrs:{id:"referrer",type:"text",state:e.registerState,placeholder:"Type your referrer"},model:{value:e.referrer,callback:function(t){e.referrer=t},expression:"referrer"}})],1),a("button",{attrs:{type:"button",disabled:e.isRegisterDisabled},on:{click:e.handleRegister}},[e._v(" Continue ")])],1):e._e(),e._m(0)])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-footer"},[a("a",{attrs:{href:"#"}},[e._v("Privacy Policy")]),a("a",{attrs:{href:"#"}},[e._v("User Notice")])])}],i=a(4665),l=a(641),o={name:"AppRegister",components:{IconPolygon:l.Z},data(){return{isLoading:!1,email:null,agree:!1,step:1,otp:{0:"",1:"",2:"",3:""},emailState:null,otpState:null,registerState:null,firstName:null,lastName:null,password:null,confirmPassword:null,referrer:null}},computed:{isVerifyEmailDisabled(){return!this.email||!this.agree||this.isLoading},isVerifyOtpDisabled(){return""===this.otp[0]||""===this.otp[1]||""===this.otp[2]||""===this.otp[3]||this.isLoading},isRegisterDisabled(){return!this.firstName||!this.lastName||!this.password||!this.confirmPassword||this.isLoading}},methods:{...(0,i.nv)(["verifyEmail","verifyOTP","register"]),...(0,i.OI)(["showAlert","hideAlert"]),async handleVerifyEmail(){this.isLoading=!0,this.emailState=null;try{await this.verifyEmail({email:this.email}),this.step=2}catch(e){this.emailState=!1,this.handleError(e?.response?.data?.message)}finally{this.isLoading=!1}},async handleVerifyOtp(){this.isLoading=!0,this.otpState=null;try{await this.verifyOTP({email:this.email,otpCode:Object.values(this.otp).join("")}),this.step=3}catch(e){this.otpState=!1,this.handleError(e?.response?.data?.message)}finally{this.isLoading=!1}},async handleRegister(){this.isLoading=!0,this.registerState=null,this.password!==this.confirmPassword&&this.handleError("Passwords are different. Please re-type your password.");try{await this.register({email:this.email,password:this.password,firstName:this.firstName,lastName:this.lastName,referralFrom:this.referrer}),this.$router.replace("login")}catch(e){this.registerState=!1,this.handleError(e?.response?.data?.message)}finally{this.isLoading=!1}},handleOtpInput(e){e<3?this.$refs.otp[e+1].focus():this.$refs.otp[e].blur()},handleError(e){this.showAlert({text:e}),setTimeout((()=>{this.hideAlert()}),3e3)}}},n=o,c=a(1001),d=(0,c.Z)(n,s,r,!1,null,"70b03675",null),p=d.exports}}]);
//# sourceMappingURL=70.8773df46.js.map