"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[350],{8350:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-login"},[a("div",{staticClass:"account-container"},[a("div",{staticClass:"account-header"},[a("div",{staticClass:"company"},[a("i",[a("icon-polygon")],1),a("span",[e._v("Filet")])]),a("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),a("div",{staticClass:"account-card"},[a("div",{staticClass:"account-greeting"},[e._v("Welcome back ~")]),a("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@example.com",state:e.loginState},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-form-group",{attrs:{"label-for":"password",label:"Password"}},[a("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Type your password",state:e.loginState},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("router-link",{attrs:{to:"forgot-password"}},[e._v("Forgot Password?")])],1),a("b-form-checkbox",{attrs:{name:"checkbox-1",value:!0,"unchecked-value":!1},model:{value:e.keepLogIn,callback:function(t){e.keepLogIn=t},expression:"keepLogIn"}},[e._v(" Keep me logged in ")]),a("button",{attrs:{type:"button",disabled:e.isLoginDisabled},on:{click:e.handleLogin}},[e._v(" Login ")]),a("div",{staticClass:"note"},[a("span",[e._v("Donâ€™t have an account?")]),a("router-link",{attrs:{to:"register"}},[e._v("Create a free account")])],1)],1),e._m(0)])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-footer"},[a("a",{attrs:{href:"#"}},[e._v("Privacy Policy")]),a("a",{attrs:{href:"#"}},[e._v("User Notice")])])}],i=a(4665),n=a(641),l={name:"AppLogin",components:{IconPolygon:n.Z},data(){return{email:null,password:null,keepLogIn:!0,loginState:null,isLoading:!1}},computed:{isLoginDisabled(){return!this.email||!this.password||this.isLoading}},methods:{...(0,i.nv)(["login","getUserInfo"]),...(0,i.OI)(["setToken","setUserInfo","showAlert","hideAlert"]),async handleLogin(){this.loginState=null,this.isLoading=!0;try{const e=await this.login({email:this.email,password:this.password}),t=e.data.token;this.setToken(t),this.keepLogIn?this.$cookies.set("token",t):this.$cookies.remove("token");const a=await this.getUserInfo({token:t});this.setUserInfo(a.data),this.$router.replace("/")}catch(e){this.loginState=!1,this.showAlert({text:e?.response?.data?.message}),setTimeout((()=>{this.hideAlert()}),3e3)}finally{this.isLoading=!1}}}},r=l,c=a(1001),d=(0,c.Z)(r,s,o,!1,null,"64993a32",null),p=d.exports}}]);
//# sourceMappingURL=350.039430af.js.map