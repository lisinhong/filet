"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[444],{444:function(s,e,a){a.r(e),a.d(e,{default:function(){return w}});var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"app-profile"},[a("div",{staticClass:"account-info"},[a("div",{staticClass:"setting-title"},[s._v("Account Info.")]),a("div",{staticClass:"input-container"},[a("b-form-group",{attrs:{"label-for":"first-name",label:"First name"}},[a("b-form-input",{attrs:{id:"first-name",value:s.userInfo.firstName,readonly:""}})],1),a("b-form-group",{attrs:{"label-for":"last-name",label:"Last name"}},[a("b-form-input",{attrs:{id:"last-name",value:s.userInfo.lastName,readonly:""}})],1),a("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@example.com"},model:{value:s.newEmail,callback:function(e){s.newEmail=e},expression:"newEmail"}})],1),a("b-form-group",{attrs:{"label-for":"phone-number",label:"Phone number (Optional)"}},[a("b-form-input",{attrs:{id:"phone-number",type:"tel",placeholder:"+1 123456789"},model:{value:s.newMobile,callback:function(e){s.newMobile=e},expression:"newMobile"}})],1),a("div",{staticClass:"button-container"},[a("button",{attrs:{disabled:s.isUpdateUserInfoDisabled},on:{click:s.handleUpdateUserInfoClick}},[s._v(" Update ")])])],1)]),a("div",{staticClass:"change-password"},[a("div",{staticClass:"setting-title"},[s._v("Change Password")]),a("div",{staticClass:"input-container"},[a("b-form-group",{attrs:{"label-for":"old-password",label:"Old password"}},[a("b-form-input",{attrs:{id:"old-password",type:"password",placeholder:"Your answer"},model:{value:s.oldPassword,callback:function(e){s.oldPassword=e},expression:"oldPassword"}})],1),a("b-form-group",{attrs:{"label-for":"new-password",label:"New password"}},[a("b-form-input",{attrs:{id:"new-password",type:"password",placeholder:"Your answer"},model:{value:s.newPassword,callback:function(e){s.newPassword=e},expression:"newPassword"}})],1),a("b-form-group",{attrs:{"label-for":"confirm-new-password",label:"Confirm new password",description:"* At least 8 characters with 1 upper case, 1 lower case, and 1 number."}},[a("b-form-input",{attrs:{id:"confirm-new-password",type:"password",placeholder:"Your answer"},model:{value:s.confirmNewPassword,callback:function(e){s.confirmNewPassword=e},expression:"confirmNewPassword"}})],1),a("div",{staticClass:"button-container"},[a("button",{attrs:{disabled:s.isChangePasswordDisabled},on:{click:s.handleChangePasswordClick}},[s._v(" Update ")])])],1)])])},o=[],r=a(4665),i={name:"AppProfile",data(){return{oldPassword:null,newPassword:null,confirmNewPassword:null,newEmail:null,newMobile:null,isLoading:!1}},computed:{...(0,r.rn)(["userInfo","token"]),...(0,r.Se)(["userName"]),isUpdateUserInfoDisabled(){return this.newEmail===this.userInfo.email&&this.newMobile===this.userInfo.mobile||this.isLoading},isChangePasswordDisabled(){return!this.oldPassword||!this.newPassword||!this.confirmNewPassword||this.isLoading}},watch:{"userInfo.email":{handler(s){this.newEmail=s},immediate:!0},"userInfo.mobile":{handler(s){this.newMobile=s},immediate:!0}},async created(){if(!this.token)return;const s=await this.getUserInfo({token:this.token});this.setUserInfo(s.data)},methods:{...(0,r.nv)(["updateUserInfo","changePassword","getUserInfo"]),...(0,r.OI)(["setUserInfo","showAlert","hideAlert"]),async handleUpdateUserInfoClick(){this.isLoading=!0;try{await this.updateUserInfo({token:this.token,email:this.newEmail,mobile:this.newMobile,firstName:this.userInfo.firstName,lastName:this.userInfo.lastName}),this.showAlert({text:"Update successfully.",variant:"success"});const s=await this.getUserInfo({token:this.token});this.setUserInfo(s.data)}catch(s){this.showAlert({text:s?.response?.data?.message})}finally{setTimeout((()=>{this.hideAlert()}),3e3),this.isLoading=!1}},async handleChangePasswordClick(){if(this.newPassword!==this.confirmNewPassword)return this.showAlert({variant:"success",text:"Passwords are different. Please re-type your password."}),void setTimeout((()=>{this.hideAlert()}),3e3);this.isLoading=!0;try{await this.changePassword({token:this.token,oldPassword:this.oldPassword,newPassword:this.newPassword}),this.oldPassword=null,this.newPassword=null,this.confirmNewPassword=null,this.showAlert({text:"Update successfully.",variant:"success"})}catch(s){this.showAlert({text:s?.response?.data?.message})}finally{this.isLoading=!1,setTimeout((()=>{this.hideAlert()}),3e3)}}}},n=i,l=a(1001),d=(0,l.Z)(n,t,o,!1,null,"7cd02c35",null),w=d.exports}}]);
//# sourceMappingURL=444.4c78b6fd.js.map